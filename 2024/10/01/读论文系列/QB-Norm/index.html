<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><title>QB-Norm | Orion Blog</title><meta name="author" content="Orion"><meta name="description" content="Here's Orion"><meta name="keywords" content="技术博客,Orion,BUPT北京邮电大学,本科生,人工智能,AI算法工程师,机器学习,深度学习,计算机视觉,自然语言处理,NLP,CV,大模型"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="icon" href="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202409190134514.png"><link rel="preload" as="image" href="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202409181543316.png"><link rel="preconnect" href="https://s4.zstatic.net"><script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" media="only x" onload='this.onload=null,this.media="all"'><link rel="preconnect" href="https://fonts.googleapis.cn"><link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" media="only x" onload='this.onload=null,this.media="all"'><script>const mixins={}</script><script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"><script src="/js/lib/highlight.js"></script><script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css"><script src="/js/lib/math.js"></script><script src="/js/lib/preview.js"></script><script src="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline.min.js"></script><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline.min.css"><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline-meta.min.css"><script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script><link rel="stylesheet" href="/css/main.css"><link rel="preconnect" href="https://static-argvchs.netlify.app"><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:yellow;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style></head><body><div id="layout"><transition name="fade"><div id="loading" v-show="loading"><div id="loading-circle"><h2>LOADING</h2><p>加载过慢请开启缓存 浏览器默认开启</p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202409201808995.gif"></div></div></transition><div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}"><nav id="desktop-menu"><a class="title" href="/"><span>ORION BLOG</span></a><a href="/"><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;Home</span></a><a href="/about"><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;About</span></a><a href="/archives"><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;Archives</span></a><a href="/categories"><i class="fa-solid fa-bookmark fa-fw"></i> <span>&ensp;Categories</span></a><a href="/tags"><i class="fa-solid fa-tags fa-fw"></i> <span>&ensp;Tags</span></a></nav><nav id="mobile-menu"><div class="title" @click="showMenuItems = !showMenuItems"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;ORION BLOG</span></div><transition name="slide"><div class="items" v-show="showMenuItems"><a href="/"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-house fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Home</div></div></a><a href="/about"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-id-card fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">About</div></div></a><a href="/archives"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-box-archive fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Archives</div></div></a><a href="/categories"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-bookmark fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Categories</div></div></a><a href="/tags"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-tags fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Tags</div></div></a></div></transition></nav></div><transition name="fade"><div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div></transition><div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'"><div class="article"><div><h1>QB-Norm</h1></div><div class="info"><span class="date"><span class="icon"><i class="fa-solid fa-calendar fa-fw"></i></span> 2024/10/1</span><span class="category"><a href="/categories/%E8%AF%BB%E8%AE%BA%E6%96%87%E7%B3%BB%E5%88%97/"><span class="icon"><i class="fa-solid fa-bookmark fa-fw"></i></span> 读论文系列</a></span><span class="tags"><span class="icon"><i class="fa-solid fa-tags fa-fw"></i></span> <span class="tag"><a href="/tags/%E8%B7%A8%E8%86%9C%E6%80%81%E6%A3%80%E7%B4%A2/" style="color:#ffa2c4">跨膜态检索</a></span> <span class="tag"><a href="/tags/QB-Norm/" style="color:#03a9f4">QB-Norm</a></span></span></div><div class="content" v-pre><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011215281.png" alt="image-20241001121501231"></p><p>论文发布日期：2022.4.18</p><p>论文发表会议：CVPR</p><span id="more"></span><h1><span id="abstract">Abstract</span><a href="#abstract" class="header-anchor"></a></h1><ul><li>联合嵌入已经成为了过去工作解决跨膜态检索问题的主要方法。</li><li>尽管联合嵌入很有效，它还是受到长期存在的"hubness problem"的影响，少量的gallery embeddings会形成许多查询的最近领域。</li><li>提出了Querybank Normalisation (QB-NORM)框架，它重新标准化查询相似度以充分考虑嵌入空间的中心。QB-NORM使得无需重新训练就可提高检索性能。</li><li>还提出了一种新颖的相似性归一化方法，Dynamic Inverted Softmax，比现有方法更加稳健。</li></ul><h1><span id="introduction">Introduction</span><a href="#introduction" class="header-anchor"></a></h1><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011554793.png" alt="image-20241001155319278" style="zoom:50%"></p><p><strong>目标</strong></p><p>如何减轻跨模态检索中高维联合嵌入会导致的<em>Hubness Problem</em>。</p><p><strong>动机</strong></p><ol type="1"><li>目前跨模态检索使用的联合嵌入方法，容易导致<em>Hubness Problem</em>。即在高维嵌入空间中，少数几个样本（称为中心）会成为大量查询的最近邻，导致检索质量下降。</li></ol><p><strong>方案</strong></p><ol type="1"><li>提出了一种简单而有效的框架，称为查询库归一化（Querybank Normalisation，简称QB-NORM），旨在通过重新归一化查询相似度来减轻嵌入空间中的枢纽影响。QB-NORM无需重新训练模型，并且在不需要同时访问测试集的查询的情况下有效。</li><li>提出了一种新的相似度归一化方法——动态反向Softmax（Dynamic Inverted Softmax，简称DIS），其在鲁棒性上显著优于现有方法。</li></ol><p><strong>贡献</strong></p><ol type="1"><li>证明了长期存在的<em>hubness</em>问题是一个影响现代跨膜态嵌入检索的重要问题。</li><li>提出了QB-NORM方法，一个简单的非参数框架，可在不需要模型微调情况下显著提高检索性能。</li><li>证明了Querybank Normalisation方法保留了跨模态检索的有效性，使其无法越过当前的查询与其他查询产生联系。</li><li>提出了Dynamic Inverted Softmax，是一种新颖的查询库标准化方法，比之前的工作更稳健。</li></ol><h1><span id="related-work">Related Work</span><a href="#related-work" class="header-anchor"></a></h1><p><strong>Cross-modal representations</strong></p><p>早期的跨模态检索框架包括高斯混合模型（Gaussian Mixture Models）、主题模型（Topic Models）、典型相关分析（CCA）及其扩展方法、排名优化等。近年来，深度度量学习和深度视觉语义嵌入的成功，推动了文本-图像、文本-视频、文本-音频等多种跨模态嵌入方法的快速发展。</p><p><strong>Similarity Search for Retrieval: Tricks of the Trade</strong></p><p>为了支持和增强相似度搜索，研究人员开发了包括k-d树、重新排序、查询扩展、基于二进制码的向量压缩方案和量化方法等多种技术，以应对高维空间中的“维度灾难”。</p><p><strong>Memory bank augmented architectures</strong></p><p>各种形式的memory banks已经成为神经网络架构的有效扩展，在解决一般问题、改进图像captioning、增强自监督训练动态等方面展示了其价值。本文提出的QB-NORM框架同样使用了外部记忆库，旨在减轻嵌入空间中的<em>Hubness Problem</em>。</p><p><strong>The Hubness Problem</strong></p><p><em>Hubness Problem</em>在高维嵌入空间中普遍存在，其特征是少数几个样本频繁出现在多个查询的最近邻集合中。这一问题最早由Radovanovic等人提出，他们观察到在具有高内在维度的分布中，“k-出现次数”（k-occurrences）的分布严重向右偏斜。尽管对于<em>Hubness Problem</em>的成因存在不同观点，但其通常与高维空间中的距离集中现象相关，即高维空间中的点通常位于以数据均值为中心的超球面上，彼此之间的距离相似。</p><p><strong>Hubness Mitigation</strong></p><p>缓解<em>Hubness Problem</em>方法主要分为以下几类：</p><ol type="1"><li>重缩放相似度空间（Rescaling the Similarity Space）：<ul><li>局部缩放（Local Scaling）：根据每个查询的邻域信息调整相似度。</li><li>全局缩放（Global Scaling）：基于整个嵌入空间的统计信息调整相似度。</li></ul></li><li>处理聚类中心（Handling Centroid Hubs）：<ul><li>使用拉普拉斯基函数（Laplacian-based Kernels）或中心化（Centering）方法减少聚类中心作为枢纽的倾向。</li></ul></li><li>跨域方法（Cross-domain Methods）：<ul><li>在零样本学习（Zero-Shot Learning）中，通过将（文本）目标映射回（图像）查询空间，或通过最小化枢纽性相关的代理指标来缓解枢纽性。</li><li>在自然语言处理（NLP）中，通过跨域局部缩放（Cross-Domain Local Scaling, CSLS）或反向Softmax（Inverted Softmax, IS）等方法，改善不同语言词典间的翻译质量。</li></ul></li></ol><h1><span id="method">Method</span><a href="#method" class="header-anchor"></a></h1><h3><span id="task-definition">Task definition</span><a href="#task-definition" class="header-anchor"></a></h3><p>给定一个模态中的样本库（Gallery）<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewbox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g></g></g></svg></mjx-container></span>和另一个模态中的查询<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>，目标是根据查询与库中样本的匹配程度对样本进行排序。在学习跨模态嵌入的框架内研究这个问题：具体来说，希望学习一对编码器，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="2.272ex" height="2.22ex" role="img" focusable="false" viewbox="0 -694 1004.3 981.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></g></svg></mjx-container></span>和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.667ex" xmlns="http://www.w3.org/2000/svg" width="2.299ex" height="2.237ex" role="img" focusable="false" viewbox="0 -694 1016.3 989"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g></g></g></g></svg></mjx-container></span>，将每个查询<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>和库中样本<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.464ex" xmlns="http://www.w3.org/2000/svg" width="1.079ex" height="1.464ex" role="img" focusable="false" viewbox="0 -442 477 647"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g></g></g></svg></mjx-container></span>映射到一个共享的实数嵌入空间<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="3.037ex" height="1.949ex" role="img" focusable="false" viewbox="0 -861.5 1342.4 861.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g></g></g></g></svg></mjx-container></span>，使得<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="5.073ex" height="2.347ex" role="img" focusable="false" viewbox="0 -750 2242.3 1037.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(1004.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1393.3,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g><g data-mml-node="mo" transform="translate(1853.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.667ex" xmlns="http://www.w3.org/2000/svg" width="5.139ex" height="2.364ex" role="img" focusable="false" viewbox="0 -750 2271.3 1045"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g></g><g data-mml-node="mo" transform="translate(1016.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1405.3,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mo" transform="translate(1882.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>仅当<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>与<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.464ex" xmlns="http://www.w3.org/2000/svg" width="1.079ex" height="1.464ex" role="img" focusable="false" viewbox="0 -442 477 647"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g></g></g></svg></mjx-container></span>相似时才接近。假设可以访问一个包含<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.593ex" height="1.532ex" role="img" focusable="false" viewbox="0 -677 704 677"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g></g></g></svg></mjx-container></span>个对应查询和库样本的训练集<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.783ex" xmlns="http://www.w3.org/2000/svg" width="11.381ex" height="2.687ex" role="img" focusable="false" viewbox="0 -841.7 5030.2 1187.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="7B" d="M434-231Q434-244 428-250H410Q281-250 230-184 225-177 222-172T217-161 213-148 211-133 210-111 209-84 209-47 209 0Q209 21 209 53 208 142 204 153 203 154 203 155 189 191 153 211T82 231Q71 231 68 234T65 250 68 266 82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740 361 748 377 749 379 749 390 749T408 750H428Q434 744 434 732 434 719 431 716 429 713 415 713 362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250 184 245Q202 239 220 230T262 196 290 137Q291 131 291 1 291-134 296-147 306-174 339-192T415-213Q429-213 431-216 434-219 434-231Z"/></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(889,0)"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g><g data-mml-node="mi" transform="translate(479,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(1662,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="msub" transform="translate(2106.6,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(2910.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="msubsup" transform="translate(3299.6,0)"><g data-mml-node="mo"><path data-c="7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357 306 312 345 291T417 269Q428 269 431 266T434 250 431 234 417 231Q380 231 345 210T298 157Q293 143 292 121T291-28V-79Q291-134 285-156T256-198Q202-250 89-250 71-250 68-247T65-230Q65-224 65-223T66-218 69-214 77-213Q91-213 108-210T146-200 183-177 207-139Q208-134 209 3L210 139Q223 196 280 230 315 247 330 250 305 257 280 270 225 304 212 352L210 362 209 498Q208 635 207 640 195 680 154 696T77 713Q68 713 67 716T65 731Z"/></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g><g data-mml-node="TeXAtom" transform="translate(533,-287.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></g></g></svg></mjx-container></span>，用于学习嵌入。然而，在训练期间，用于评估检索性能的查询和库（即测试集）是不可见的。</p><p>用于定义“良好匹配”的相似性度量的选择由应用领域决定。例如，在使用自然语言查询的文本-视频检索任务中，目标是根据视频内容被书面自由文本查询描述的程度对视频库进行排序，而在图像-音频检索中，目标通常是从库中获取与图像查询具有相同语义类别的音频样本。</p><p>在这项工作中，特别关注使用自然语言查询的跨模态检索任务，原因有二：</p><ol type="1"><li>这些任务在hubness mitigation相关文献中受到的关注有限。</li><li>hubness problem在高内在维度的嵌入中尤其普遍。由于自然语言查询可以表达比单个词更复杂的概念（例如在零样本学习图像标注任务中考虑的那些），期望自然语言查询能够自然地引入具有更大内在维度的跨模态嵌入，从而可能更有潜力从hubness mitigation中受益。</li></ol><h3><span id="motivation">Motivation</span><a href="#motivation" class="header-anchor"></a></h3><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011654392.png" alt="image-20241001165428314"></p><p>长期以来，人们观察到高维嵌入空间容易出现hubness现象，即少数样本在所有嵌入的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>近邻集中出现频率过高。这种特性可能对使用最近邻搜索来为给定查询找到最佳匹配的检索系统产生不利影响。</p><p>为说明这一问题，考虑使用自然语言查询的视频检索问题。作者绘制了在MSR-VTT检索基准上，每个库视频被检索次数的分布，涉及一系列文本-视频检索方法，包括CE、TT-CE+、MMT和CLIP2Video，还有TT-CE+方法在各个数据集下的检索分布，包括ActivityNet、DiDeMo、LSMDC和Vatex等。</p><p>在每种情况下，都看到了hubness现象的明显证据——少数视频被极其频繁地检索，而其他视频则完全没有被检索到。这种现象不限于特定的检索模型，表明该问题不能通过使用多种视频模态、注意力机制和大规模预训练的各种组合来轻易解决。</p><h3><span id="querybank-normalisation">Querybank Normalisation</span><a href="#querybank-normalisation" class="header-anchor"></a></h3><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011703663.png" alt="image-20241001170304610" style="zoom:50%"></p><p>在过去的文献中，作者特别感兴趣的是那些可以应用于实际跨模态检索设置的方法，即这些方法的复杂度至多与库的大小呈线性关系（而不是寻求在固定嵌入空间内解决hubness问题的二次复杂度方法）。</p><p>为明确现有方法之间的关系，作者将它们放入查询库归一化框架，该框架包括两个组件：查询库构建和相似度归一化，具体描述如下：</p><p><strong>查询库构建</strong>：为了减缓跨模态嵌入空间中的枢纽现象，希望以减少hubness影响的方式改变嵌入之间的相似度。为调整相似度，首先从查询模态<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="2.91ex" height="1.65ex" role="img" focusable="false" viewbox="0 -442 1286.3 729.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341 56 388 88 425 132 442 175 435 205 417 221 395 229 376L231 369Q231 367 232 367L243 378Q303 442 384 442 401 442 415 440T441 433 460 423 475 411 485 398 493 385 497 373 500 364 502 357L510 367Q573 442 659 442 713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145 857 144 853 130 845 101 831 73T785 17 716-10Q669-10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291 466 157Q433 26 428 16 415-11 385-11 372-11 364-4T353 8 350 18Q350 29 384 161L420 307Q423 322 423 345 423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 181 151 335 151 342 154 357 154 369 154 405 129 405 107 405 92 377T69 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(911,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></g></svg></mjx-container></span>中构建一个包含<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个样本的查询库<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="16.575ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 7326 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682 206 683 335 683 594 683 608 681 671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0 42 0 39 2 35 5 35 10 35 17 37 24 42 43 47 45 51 46 62 46H68Q95 46 128 49 142 52 147 61 150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637 473 637 451 637T416 636H403Q388 635 384 626 382 622 352 506 352 503 351 500L320 374H401Q482 374 494 376 554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337 311 337 310 336 310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47 491 54 543 105T595 229Z"/></g><g data-mml-node="mo" transform="translate(1036.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mo" transform="translate(2092.6,0)"><path data-c="7B" d="M434-231Q434-244 428-250H410Q281-250 230-184 225-177 222-172T217-161 213-148 211-133 210-111 209-84 209-47 209 0Q209 21 209 53 208 142 204 153 203 154 203 155 189 191 153 211T82 231Q71 231 68 234T65 250 68 266 82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740 361 748 377 749 379 749 390 749T408 750H428Q434 744 434 732 434 719 431 716 429 713 415 713 362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250 184 245Q202 239 220 230T262 196 290 137Q291 131 291 1 291-134 296-147 306-174 339-192T415-213Q429-213 431-216 434-219 434-231Z"/></g><g data-mml-node="msub" transform="translate(2592.6,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mn" transform="translate(462,-150) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g><g data-mml-node="mo" transform="translate(3458.1,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mo" transform="translate(3902.8,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0 543 17 525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0 990 17 972 60Z"/></g><g data-mml-node="mo" transform="translate(5241.4,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="msub" transform="translate(5686.1,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mi" transform="translate(462,-150) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(6826,0)"><path data-c="7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357 306 312 345 291T417 269Q428 269 431 266T434 250 431 234 417 231Q380 231 345 210T298 157Q293 143 292 121T291-28V-79Q291-134 285-156T256-198Q202-250 89-250 71-250 68-247T65-230Q65-224 65-223T66-218 69-214 77-213Q91-213 108-210T146-200 183-177 207-139Q208-134 209 3L210 139Q223 196 280 230 315 247 330 250 305 257 280 270 225 304 212 352L210 362 209 498Q208 635 207 640 195 680 154 696T77 713Q68 713 67 716T65 731Z"/></g></g></g></svg></mjx-container></span>，这将作为探测工具来测量库样本的枢纽性。</p><p><strong>相似度归一化</strong>：为了归一化相似度以考虑枢纽问题，我们假设可以访问一个查询<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>、训练的编码器<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="2.272ex" height="2.22ex" role="img" focusable="false" viewbox="0 -694 1004.3 981.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></g></svg></mjx-container></span>和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.667ex" xmlns="http://www.w3.org/2000/svg" width="2.299ex" height="2.237ex" role="img" focusable="false" viewbox="0 -694 1016.3 989"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g></g></g></g></svg></mjx-container></span>、查询库<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="11.84ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 5233.5 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="7B" d="M434-231Q434-244 428-250H410Q281-250 230-184 225-177 222-172T217-161 213-148 211-133 210-111 209-84 209-47 209 0Q209 21 209 53 208 142 204 153 203 154 203 155 189 191 153 211T82 231Q71 231 68 234T65 250 68 266 82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740 361 748 377 749 379 749 390 749T408 750H428Q434 744 434 732 434 719 431 716 429 713 415 713 362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250 184 245Q202 239 220 230T262 196 290 137Q291 131 291 1 291-134 296-147 306-174 339-192T415-213Q429-213 431-216 434-219 434-231Z"/></g><g data-mml-node="msub" transform="translate(500,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mn" transform="translate(462,-150) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g><g data-mml-node="mo" transform="translate(1365.6,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mo" transform="translate(1810.2,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0 543 17 525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0 990 17 972 60Z"/></g><g data-mml-node="mo" transform="translate(3148.9,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="msub" transform="translate(3593.6,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mi" transform="translate(462,-150) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(4733.5,0)"><path data-c="7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357 306 312 345 291T417 269Q428 269 431 266T434 250 431 234 417 231Q380 231 345 210T298 157Q293 143 292 121T291-28V-79Q291-134 285-156T256-198Q202-250 89-250 71-250 68-247T65-230Q65-224 65-223T66-218 69-214 77-213Q91-213 108-210T146-200 183-177 207-139Q208-134 209 3L210 139Q223 196 280 230 315 247 330 250 305 257 280 270 225 304 212 352L210 362 209 498Q208 635 207 640 195 680 154 696T77 713Q68 713 67 716T65 731Z"/></g></g></g></svg></mjx-container></span>以及样本库<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewbox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g></g></g></svg></mjx-container></span>。对于每个<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.666ex" xmlns="http://www.w3.org/2000/svg" width="6.47ex" height="2.261ex" role="img" focusable="false" viewbox="0 -705 2859.9 999.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(1129.1,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="mi" transform="translate(2073.9,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g></g></g></svg></mjx-container></span>，我们首先计算一个探测向量<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.666ex" xmlns="http://www.w3.org/2000/svg" width="7.993ex" height="2.58ex" role="img" focusable="false" viewbox="0 -846 3532.8 1140.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(1155.1,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="msup" transform="translate(2099.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></g></svg></mjx-container></span>，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.667ex" xmlns="http://www.w3.org/2000/svg" width="25.442ex" height="2.364ex" role="img" focusable="false" viewbox="0 -750 11245.4 1045"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(877.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1266.3,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(1611.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2278.1,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mtext" transform="translate(3333.9,0)"><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401 98 382 98 349 97 344 98 336T114 312 157 287Q175 282 201 278T245 269 277 256Q294 248 310 236T342 195 359 133Q359 71 321 31T198-10H190Q138-10 94 26L86 19 77 10Q71 4 65-1L54-11H46 42Q39-11 33-5V74 132Q33 153 35 157T45 162H54Q66 162 70 158T75 146 82 119 101 77Q136 26 198 26 295 26 295 104 295 133 277 151 257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424 143 442 187 447H198Q238 447 268 432L283 424 292 431Q302 440 314 448H322 326Q329 448 335 442V310L329 304H301Q295 310 295 316Z"/><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3 132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49 100 53 102 60T104 102V205 293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441 182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(394,0)"/><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 351 442 364 440T387 434 406 426 421 417 432 406 441 395 448 384 452 374 455 366L457 361 460 365Q463 369 466 373T475 384 488 397 503 410 523 422 546 432 572 439 603 442Q729 442 740 329 741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62 657 64 657 200 656 335 655 343 649 371 635 385T611 402 585 404Q540 404 506 370 479 343 472 315T464 232V168 108Q464 78 465 68T468 55 477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(672,0)"/></g><g data-mml-node="mo" transform="translate(4838.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(5227.9,0)"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(6232.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(6621.2,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mi" transform="translate(462,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(7377.1,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(7766.1,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="msub" transform="translate(8210.8,0)"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g></g><g data-mml-node="mo" transform="translate(9227.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(9616.1,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(10467.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(10856.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>，其中<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="7.429ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 3283.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtext"><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401 98 382 98 349 97 344 98 336T114 312 157 287Q175 282 201 278T245 269 277 256Q294 248 310 236T342 195 359 133Q359 71 321 31T198-10H190Q138-10 94 26L86 19 77 10Q71 4 65-1L54-11H46 42Q39-11 33-5V74 132Q33 153 35 157T45 162H54Q66 162 70 158T75 146 82 119 101 77Q136 26 198 26 295 26 295 104 295 133 277 151 257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424 143 442 187 447H198Q238 447 268 432L283 424 292 431Q302 440 314 448H322 326Q329 448 335 442V310L329 304H301Q295 310 295 316Z"/><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3 132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49 100 53 102 60T104 102V205 293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441 182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(394,0)"/><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 351 442 364 440T387 434 406 426 421 417 432 406 441 395 448 384 452 374 455 366L457 361 460 365Q463 369 466 373T475 384 488 397 503 410 523 422 546 432 572 439 603 442Q729 442 740 329 741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62 657 64 657 200 656 335 655 343 649 371 635 385T611 402 585 404Q540 404 506 370 479 343 472 315T464 232V168 108Q464 78 465 68T468 55 477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(672,0)"/></g><g data-mml-node="mo" transform="translate(1505,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mo" transform="translate(1894,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="mo" transform="translate(2172,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mo" transform="translate(2616.7,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="mo" transform="translate(2894.7,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>表示跨模态嵌入空间中的相似度（例如，余弦相似度）。然后将探测向量堆叠形成探测矩阵<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.09ex" xmlns="http://www.w3.org/2000/svg" width="11.098ex" height="2.111ex" role="img" focusable="false" viewbox="0 -893 4905.5 933"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637 206 637 199 638T192 648Q192 649 194 659 200 679 203 681T397 683Q587 682 600 680 664 669 707 631T751 530Q751 453 685 389 616 321 507 303 500 302 402 301H307L277 182Q247 66 247 59 247 55 248 54T255 50 272 48 305 46H336Q342 37 342 35 342 19 335 5 330 0 319 0 316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11 33 13 36 25 40 41 44 43T67 46Q94 46 127 49 141 52 146 61 149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597 609 619 560 635Q553 636 480 637 463 637 445 637T416 636 404 636Q391 635 386 627 384 621 367 550T332 412 314 344Q314 342 395 342H407 430Q542 342 590 392 617 419 631 471T645 554Z"/></g><g data-mml-node="mo" transform="translate(1028.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="msup" transform="translate(1973.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g><g data-mml-node="mo" transform="translate(1064,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mo" transform="translate(1342,0)"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g><g data-mml-node="mi" transform="translate(2120,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></g></g></svg></mjx-container></span>。类似地，我们为每个查询计算一个未归一化相似度向量<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="8.719ex" height="2.67ex" role="img" focusable="false" viewbox="0 -893 3853.8 1180.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(1155,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="msup" transform="translate(2099.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g><g data-mml-node="mo" transform="translate(1064,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g></g></g></g></g></svg></mjx-container></span>，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.667ex" xmlns="http://www.w3.org/2000/svg" width="24.924ex" height="2.364ex" role="img" focusable="false" viewbox="0 -750 11016.4 1045"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(877.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1266.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1678.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mtext" transform="translate(3400.8,0)"><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401 98 382 98 349 97 344 98 336T114 312 157 287Q175 282 201 278T245 269 277 256Q294 248 310 236T342 195 359 133Q359 71 321 31T198-10H190Q138-10 94 26L86 19 77 10Q71 4 65-1L54-11H46 42Q39-11 33-5V74 132Q33 153 35 157T45 162H54Q66 162 70 158T75 146 82 119 101 77Q136 26 198 26 295 26 295 104 295 133 277 151 257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424 143 442 187 447H198Q238 447 268 432L283 424 292 431Q302 440 314 448H322 326Q329 448 335 442V310L329 304H301Q295 310 295 316Z"/><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3 132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49 100 53 102 60T104 102V205 293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441 182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(394,0)"/><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 351 442 364 440T387 434 406 426 421 417 432 406 441 395 448 384 452 374 455 366L457 361 460 365Q463 369 466 373T475 384 488 397 503 410 523 422 546 432 572 439 603 442Q729 442 740 329 741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62 657 64 657 200 656 335 655 343 649 371 635 385T611 402 585 404Q540 404 506 370 479 343 472 315T464 232V168 108Q464 78 465 68T468 55 477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(672,0)"/></g><g data-mml-node="mo" transform="translate(4905.8,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(5294.8,0)"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(6299.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(6688.1,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g><g data-mml-node="mo" transform="translate(7148.1,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(7537.1,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="msub" transform="translate(7981.8,0)"><g data-mml-node="mi"><path data-c="1D719" d="M409 688Q413 694 421 694H429 442Q448 688 448 686 448 679 418 563 411 535 404 504T392 458L388 442Q388 441 397 441T429 435 477 418Q521 397 550 357T579 260 548 151 471 65 374 11 279-10H275L251-105Q245-128 238-160 230-192 227-198T215-205H209Q189-205 189-198 189-193 211-103L234-11Q234-10 226-10 221-10 206-8T161 6 107 36 62 89 43 171Q43 231 76 284T157 370 254 422 342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53 203 35 237 27H244L337 404Q333 404 326 403T297 395 255 379 211 350 170 304Q152 276 137 237 122 191 122 150ZM500 282Q500 320 484 347T444 385 405 400 381 404H378L332 217 284 29Q284 27 285 27 293 27 317 33T357 47Q400 66 431 100T475 170 494 234 500 282Z"/></g><g data-mml-node="mi" transform="translate(629,-150) scale(0.707)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g></g><g data-mml-node="mo" transform="translate(8998.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(9387.1,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(10238.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(10627.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>。这里<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="15.169ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 6704.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(689.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="mo" transform="translate(1634.6,0)"><path data-c="7B" d="M434-231Q434-244 428-250H410Q281-250 230-184 225-177 222-172T217-161 213-148 211-133 210-111 209-84 209-47 209 0Q209 21 209 53 208 142 204 153 203 154 203 155 189 191 153 211T82 231Q71 231 68 234T65 250 68 266 82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740 361 748 377 749 379 749 390 749T408 750H428Q434 744 434 732 434 719 431 716 429 713 415 713 362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250 184 245Q202 239 220 230T262 196 290 137Q291 131 291 1 291-134 296-147 306-174 339-192T415-213Q429-213 431-216 434-219 434-231Z"/></g><g data-mml-node="mn" transform="translate(2134.6,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(2634.6,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mo" transform="translate(3079.2,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0 543 17 525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0 990 17 972 60Z"/></g><g data-mml-node="mo" transform="translate(4417.9,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mo" transform="translate(4862.6,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mi" transform="translate(5140.6,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g><g data-mml-node="mo" transform="translate(5926.6,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mo" transform="translate(6204.6,0)"><path data-c="7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357 306 312 345 291T417 269Q428 269 431 266T434 250 431 234 417 231Q380 231 345 210T298 157Q293 143 292 121T291-28V-79Q291-134 285-156T256-198Q202-250 89-250 71-250 68-247T65-230Q65-224 65-223T66-218 69-214 77-213Q91-213 108-210T146-200 183-177 207-139Q208-134 209 3L210 139Q223 196 280 230 315 247 330 250 305 257 280 270 225 304 212 352L210 362 209 498Q208 635 207 640 195 680 154 696T77 713Q68 713 67 716T65 731Z"/></g></g></g></svg></mjx-container></span>索引所有库元素。最后，我们定义一个查询库归一化函数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.437ex" xmlns="http://www.w3.org/2000/svg" width="34.053ex" height="2.457ex" role="img" focusable="false" viewbox="0 -893 15051.4 1086"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtext"><path data-c="51" d="M56 341Q56 499 157 602T388 705Q521 705 621 601T722 341Q722 275 703 218T660 127 603 63 555 25 525 9Q524 8 524 8H523Q524 5 526-1T537-21 555-47 581-67 615-76Q653-76 678-56T706-3Q707 10 716 10 721 10 728 5L727-13Q727-88 697-140T606-193Q563-193 538-166T498-83Q483-23 483-8L471-11Q459-14 435-18T388-22Q254-22 155 81T56 341ZM607 339Q607 429 586 496T531 598 461 649 390 665 318 649 248 598 192 496 170 339Q170 143 277 57 301 39 305 39L304 42Q304 44 304 46 301 53 301 68 301 101 325 128T391 155Q454 155 495 70L501 58Q549 91 578 164 607 234 607 339ZM385 18Q404 18 425 23T459 33 472 40Q471 47 468 57T449 88 412 115Q398 117 386 117 367 117 353 102T338 67Q338 48 351 33T385 18Z"/><path data-c="42" d="M131 622Q124 629 120 631T104 634 61 637H28V683H229 267 346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636 333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375 406 377Q410 378 417 380T442 393 474 417 499 456 511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200 116Q229 57 234 52 240 47 334 47H383Q425 47 443 53 486 67 511 104T537 188Z" transform="translate(778,0)"/><path data-c="2D" d="M11 179V252H277V179H11Z" transform="translate(1486,0)"/><path data-c="4E" d="M42 46Q74 48 94 56T118 69 128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627 492 637H475V683H483Q498 680 600 680 706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150 282 443 171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3 48 3 33 0H25V46H42Z" transform="translate(1819,0)"/><path data-c="4F" d="M56 340Q56 423 86 494T164 610 270 680 388 705Q521 705 621 601T722 341Q722 260 693 191T617 75 510 4 388-22 267 3 160 74 85 189 56 340ZM467 647Q426 665 388 665 360 665 331 654T269 620 213 549 179 439Q174 411 174 354 174 144 277 61 327 20 385 20H389 391Q474 20 537 99 603 188 603 354 603 411 598 439 577 592 467 647Z" transform="translate(2569,0)"/><path data-c="52" d="M130 622Q123 629 119 631T103 634 60 637H27V683H202 236 300Q376 683 417 677T500 648Q595 600 609 517 610 512 610 501 610 468 594 439T556 392 511 361 472 343L456 338Q459 335 467 332 497 316 516 298T545 254 559 211 568 155 578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105 728 103 732 90Q732 59 716 27T672-16Q656-22 630-22 481-16 458 90 456 101 456 163T449 246Q430 304 373 320L363 322 297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3 59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570 462 601 424 623 362 636Q360 636 340 636T304 637H283Q238 637 234 628 231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z" transform="translate(3347,0)"/><path data-c="4D" d="M132 622Q125 629 121 631T105 634 62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124 562 398Q666 674 668 675 671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3 605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546 688 613L687 632Q454 14 450 7 446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463 175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3 52 3 37 0H29V46H46Q78 48 98 56T122 69 132 86V622Z" transform="translate(4083,0)"/></g><g data-mml-node="mo" transform="translate(5277.8,0)"><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310 96 327 78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z"/></g><g data-mml-node="msup" transform="translate(5833.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g><g data-mml-node="mo" transform="translate(1064,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g></g></g><g data-mml-node="mo" transform="translate(7809.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g><g data-mml-node="msup" transform="translate(8809.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g><g data-mml-node="mo" transform="translate(1064,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mo" transform="translate(1342,0)"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g><g data-mml-node="mi" transform="translate(2120,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g><g data-mml-node="mo" transform="translate(12019.7,0)"><path data-c="2192" d="M56 237T56 250 70 270H835Q719 357 692 493 692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506 732 497 735 481 743 456Q765 389 816 336T935 261Q944 258 944 250 944 244 939 241T915 231 877 212Q836 186 806 152T761 85 740 35 732 4Q730-6 727-8T711-11Q691-11 691 0 691 7 696 25 728 151 835 230H70Q56 237 56 250Z"/></g><g data-mml-node="msup" transform="translate(13297.5,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g><g data-mml-node="mo" transform="translate(1064,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g></g></g></g></g></svg></mjx-container></span>，这为每个查询<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>和样本库<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewbox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g></g></g></svg></mjx-container></span>产生一个查询库归一化相似度向量<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="29.562ex" height="2.67ex" role="img" focusable="false" viewbox="0 -893 13066.3 1180.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D702" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q156 442 175 435T205 417 221 395 229 376L231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336V326Q503 302 439 53 381-182 377-189 364-216 332-216 319-216 310-208T299-186Q299-177 358 57L420 307Q423 322 423 345 423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(530,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(1183,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mtext" transform="translate(2238.8,0)"><path data-c="51" d="M56 341Q56 499 157 602T388 705Q521 705 621 601T722 341Q722 275 703 218T660 127 603 63 555 25 525 9Q524 8 524 8H523Q524 5 526-1T537-21 555-47 581-67 615-76Q653-76 678-56T706-3Q707 10 716 10 721 10 728 5L727-13Q727-88 697-140T606-193Q563-193 538-166T498-83Q483-23 483-8L471-11Q459-14 435-18T388-22Q254-22 155 81T56 341ZM607 339Q607 429 586 496T531 598 461 649 390 665 318 649 248 598 192 496 170 339Q170 143 277 57 301 39 305 39L304 42Q304 44 304 46 301 53 301 68 301 101 325 128T391 155Q454 155 495 70L501 58Q549 91 578 164 607 234 607 339ZM385 18Q404 18 425 23T459 33 472 40Q471 47 468 57T449 88 412 115Q398 117 386 117 367 117 353 102T338 67Q338 48 351 33T385 18Z"/><path data-c="42" d="M131 622Q124 629 120 631T104 634 61 637H28V683H229 267 346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636 333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375 406 377Q410 378 417 380T442 393 474 417 499 456 511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200 116Q229 57 234 52 240 47 334 47H383Q425 47 443 53 486 67 511 104T537 188Z" transform="translate(778,0)"/><path data-c="2D" d="M11 179V252H277V179H11Z" transform="translate(1486,0)"/><path data-c="4E" d="M42 46Q74 48 94 56T118 69 128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627 492 637H475V683H483Q498 680 600 680 706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150 282 443 171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3 48 3 33 0H25V46H42Z" transform="translate(1819,0)"/><path data-c="4F" d="M56 340Q56 423 86 494T164 610 270 680 388 705Q521 705 621 601T722 341Q722 260 693 191T617 75 510 4 388-22 267 3 160 74 85 189 56 340ZM467 647Q426 665 388 665 360 665 331 654T269 620 213 549 179 439Q174 411 174 354 174 144 277 61 327 20 385 20H389 391Q474 20 537 99 603 188 603 354 603 411 598 439 577 592 467 647Z" transform="translate(2569,0)"/><path data-c="52" d="M130 622Q123 629 119 631T103 634 60 637H27V683H202 236 300Q376 683 417 677T500 648Q595 600 609 517 610 512 610 501 610 468 594 439T556 392 511 361 472 343L456 338Q459 335 467 332 497 316 516 298T545 254 559 211 568 155 578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105 728 103 732 90Q732 59 716 27T672-16Q656-22 630-22 481-16 458 90 456 101 456 163T449 246Q430 304 373 320L363 322 297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3 59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570 462 601 424 623 362 636Q360 636 340 636T304 637H283Q238 637 234 628 231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z" transform="translate(3347,0)"/><path data-c="4D" d="M132 622Q125 629 121 631T105 634 62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124 562 398Q666 674 668 675 671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3 605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546 688 613L687 632Q454 14 450 7 446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463 175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3 52 3 37 0H29V46H46Q78 48 98 56T122 69 132 86V622Z" transform="translate(4083,0)"/></g><g data-mml-node="mo" transform="translate(7238.8,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(7627.8,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(8505.1,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(8949.8,0)"><path data-c="1D443" d="M287 628Q287 635 230 637 206 637 199 638T192 648Q192 649 194 659 200 679 203 681T397 683Q587 682 600 680 664 669 707 631T751 530Q751 453 685 389 616 321 507 303 500 302 402 301H307L277 182Q247 66 247 59 247 55 248 54T255 50 272 48 305 46H336Q342 37 342 35 342 19 335 5 330 0 319 0 316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11 33 13 36 25 40 41 44 43T67 46Q94 46 127 49 141 52 146 61 149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597 609 619 560 635Q553 636 480 637 463 637 445 637T416 636 404 636Q391 635 386 627 384 621 367 550T332 412 314 344Q314 342 395 342H407 430Q542 342 590 392 617 419 631 471T645 554Z"/></g><g data-mml-node="mo" transform="translate(9700.8,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(10367.5,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="msup" transform="translate(11312.3,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q492 659 471 656T418 643 357 615 294 567 236 496 189 394 158 260Q156 242 156 221 156 173 170 136T206 79 256 45 308 28 353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271 634 271 659 271T695 272 707 272Q721 272 721 263 721 261 719 249 714 230 709 228 706 227 694 227 674 227 653 224 646 221 643 215T629 164Q620 131 614 108 589 6 586 3 584 1 581 1 571 1 553 21T530 52Q530 53 528 52T522 47Q448-22 322-22 201-22 126 55T50 252Z"/></g><g data-mml-node="mo" transform="translate(1064,0) translate(0 -0.5)"><path data-c="7C" d="M139-249H137Q125-249 119-235V251L120 737Q130 750 139 750 152 750 159 735V-235Q151-249 141-249H139Z"/></g></g></g></g></g></svg></mjx-container></span>。关于<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="13.701ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 6056 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtext"><path data-c="51" d="M56 341Q56 499 157 602T388 705Q521 705 621 601T722 341Q722 275 703 218T660 127 603 63 555 25 525 9Q524 8 524 8H523Q524 5 526-1T537-21 555-47 581-67 615-76Q653-76 678-56T706-3Q707 10 716 10 721 10 728 5L727-13Q727-88 697-140T606-193Q563-193 538-166T498-83Q483-23 483-8L471-11Q459-14 435-18T388-22Q254-22 155 81T56 341ZM607 339Q607 429 586 496T531 598 461 649 390 665 318 649 248 598 192 496 170 339Q170 143 277 57 301 39 305 39L304 42Q304 44 304 46 301 53 301 68 301 101 325 128T391 155Q454 155 495 70L501 58Q549 91 578 164 607 234 607 339ZM385 18Q404 18 425 23T459 33 472 40Q471 47 468 57T449 88 412 115Q398 117 386 117 367 117 353 102T338 67Q338 48 351 33T385 18Z"/><path data-c="42" d="M131 622Q124 629 120 631T104 634 61 637H28V683H229 267 346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636 333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375 406 377Q410 378 417 380T442 393 474 417 499 456 511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200 116Q229 57 234 52 240 47 334 47H383Q425 47 443 53 486 67 511 104T537 188Z" transform="translate(778,0)"/><path data-c="2D" d="M11 179V252H277V179H11Z" transform="translate(1486,0)"/><path data-c="4E" d="M42 46Q74 48 94 56T118 69 128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627 492 637H475V683H483Q498 680 600 680 706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150 282 443 171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3 48 3 33 0H25V46H42Z" transform="translate(1819,0)"/><path data-c="4F" d="M56 340Q56 423 86 494T164 610 270 680 388 705Q521 705 621 601T722 341Q722 260 693 191T617 75 510 4 388-22 267 3 160 74 85 189 56 340ZM467 647Q426 665 388 665 360 665 331 654T269 620 213 549 179 439Q174 411 174 354 174 144 277 61 327 20 385 20H389 391Q474 20 537 99 603 188 603 354 603 411 598 439 577 592 467 647Z" transform="translate(2569,0)"/><path data-c="52" d="M130 622Q123 629 119 631T103 634 60 637H27V683H202 236 300Q376 683 417 677T500 648Q595 600 609 517 610 512 610 501 610 468 594 439T556 392 511 361 472 343L456 338Q459 335 467 332 497 316 516 298T545 254 559 211 568 155 578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105 728 103 732 90Q732 59 716 27T672-16Q656-22 630-22 481-16 458 90 456 101 456 163T449 246Q430 304 373 320L363 322 297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3 59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570 462 601 424 623 362 636Q360 636 340 636T304 637H283Q238 637 234 628 231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z" transform="translate(3347,0)"/><path data-c="4D" d="M132 622Q125 629 121 631T105 634 62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124 562 398Q666 674 668 675 671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3 605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546 688 613L687 632Q454 14 450 7 446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463 175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3 52 3 37 0H29V46H46Q78 48 98 56T122 69 132 86V622Z" transform="translate(4083,0)"/></g><g data-mml-node="mo" transform="translate(5000,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mo" transform="translate(5389,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="mo" transform="translate(5667,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>的各种候选在第下一节中讨论。</p><p>在实践中，用于相似度归一化的探测矩阵可以预先计算并在所有查询中重复用（提高计算效率，但代价是更高的内存）。</p><h3><span id="design-choices">Design choices</span><a href="#design-choices" class="header-anchor"></a></h3><p>查询库归一化框架在查询库构建和相似度归一化方面提供了多种可行选择。为说明这一点，我们首先将NLP文献中提出的三种hubness mitigation技术纳入该框架，然后介绍我们提出的替代方法：the Dynamic Inverted Softmax。</p><p><strong>Globally-Corrected (GC) retrieval</strong>：最初用于双语翻译和零样本学习任务，这种方法可以通过从完整的测试查询集合<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.79ex" height="2.032ex" role="img" focusable="false" viewbox="0 -704 791 898"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D444" d="M399-80Q399-47 400-30T402-11V-7L387-11Q341-22 303-22 208-22 138 35T51 201Q50 209 50 244 50 346 98 438T227 601Q351 704 476 704 514 704 524 703 621 689 680 617T740 435Q740 255 592 107 529 47 461 16L444 8V3Q444 2 449-24T470-66 516-82Q551-82 583-60T625-3Q631 11 638 11 647 11 649 2 649-6 639-34T611-100 557-165 481-194Q399-194 399-87V-80ZM636 468Q636 523 621 564T580 625 530 655 477 665Q429 665 379 640 277 591 215 464T153 216Q153 110 207 59 231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114 429 82 435 55L448 64Q512 108 557 185T619 334 636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115 354 117 347 117 344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"/></g></g></g></svg></mjx-container></span>（或在零样本图像标注的跨模态设置中，所有语义标签）中构建查询库来实现。对于双语翻译任务，作者通过从<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="2.91ex" height="1.65ex" role="img" focusable="false" viewbox="0 -442 1286.3 729.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341 56 388 88 425 132 442 175 435 205 417 221 395 229 376L231 369Q231 367 232 367L243 378Q303 442 384 442 401 442 415 440T441 433 460 423 475 411 485 398 493 385 497 373 500 364 502 357L510 367Q573 442 659 442 713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145 857 144 853 130 845 101 831 73T785 17 716-10Q669-10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291 466 157Q433 26 428 16 415-11 385-11 372-11 364-4T353 8 350 18Q350 29 384 161L420 307Q423 322 423 345 423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 181 151 335 151 342 154 357 154 369 154 405 129 405 107 405 92 377T69 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(911,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></g></svg></mjx-container></span>中随机采样一个额外的实例集合来补充其查询库，从而提高性能。对应于查询<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>和库向量<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.666ex" xmlns="http://www.w3.org/2000/svg" width="1.926ex" height="1.666ex" role="img" focusable="false" viewbox="0 -442 851.3 736.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g></g></g></svg></mjx-container></span>的归一化相似度定义为：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.666ex" xmlns="http://www.w3.org/2000/svg" width="37.797ex" height="2.363ex" role="img" focusable="false" viewbox="0 -750 16706.4 1044.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D702" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q156 442 175 435T205 417 221 395 229 376L231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336V326Q503 302 439 53 381-182 377-189 364-216 332-216 319-216 310-208T299-186Q299-177 358 57L420 307Q423 322 423 345 423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(530,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(905.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1294.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1706.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2373,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mo" transform="translate(3428.8,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mo" transform="translate(4206.8,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mtext" transform="translate(4595.8,0)"><path data-c="52" d="M130 622Q123 629 119 631T103 634 60 637H27V683H202 236 300Q376 683 417 677T500 648Q595 600 609 517 610 512 610 501 610 468 594 439T556 392 511 361 472 343L456 338Q459 335 467 332 497 316 516 298T545 254 559 211 568 155 578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105 728 103 732 90Q732 59 716 27T672-16Q656-22 630-22 481-16 458 90 456 101 456 163T449 246Q430 304 373 320L363 322 297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3 59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570 462 601 424 623 362 636Q360 636 340 636T304 637H283Q238 637 234 628 231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"/><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z" transform="translate(736,0)"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1236,0)"/><path data-c="6B" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124 98 167 98 217 98 272 98 329Q98 366 98 407T98 482 98 542 97 586 97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693 176 694H179V463L180 233 240 287Q300 341 304 347 310 356 310 364 310 383 289 385H284V431H293Q308 428 412 428 475 428 484 431H489V385H476Q407 380 360 341 286 278 286 274 286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3 322 3 307 0H299V46H306Q330 48 330 65 330 72 326 79 323 84 276 153T228 222L176 176V120 84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z" transform="translate(1792,0)"/></g><g data-mml-node="mo" transform="translate(6915.8,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(7304.8,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(8182.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(8571.1,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(8983.1,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(9372.1,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="msub" transform="translate(9816.8,0)"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(10694.1,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(11305.3,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="msub" transform="translate(12305.5,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(13182.8,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(13571.8,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(13983.8,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(14372.8,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(15039.6,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(15984.4,0)"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g></g></g></svg></mjx-container></span></p><p>其中<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="28.739ex" height="2.48ex" role="img" focusable="false" viewbox="0 -846 12702.5 1096"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtext"><path data-c="52" d="M130 622Q123 629 119 631T103 634 60 637H27V683H202 236 300Q376 683 417 677T500 648Q595 600 609 517 610 512 610 501 610 468 594 439T556 392 511 361 472 343L456 338Q459 335 467 332 497 316 516 298T545 254 559 211 568 155 578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105 728 103 732 90Q732 59 716 27T672-16Q656-22 630-22 481-16 458 90 456 101 456 163T449 246Q430 304 373 320L363 322 297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3 59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570 462 601 424 623 362 636Q360 636 340 636T304 637H283Q238 637 234 628 231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z"/><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z" transform="translate(736,0)"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1236,0)"/><path data-c="6B" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T97 124 98 167 98 217 98 272 98 329Q98 366 98 407T98 482 98 542 97 586 97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693 176 694H179V463L180 233 240 287Q300 341 304 347 310 356 310 364 310 383 289 385H284V431H293Q308 428 412 428 475 428 484 431H489V385H476Q407 380 360 341 286 278 286 274 286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3 322 3 307 0H299V46H306Q330 48 330 65 330 72 326 79 323 84 276 153T228 222L176 176V120 84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36Z" transform="translate(1792,0)"/></g><g data-mml-node="mo" transform="translate(2597.8,0)"><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310 96 327 78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3153.6,0)"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="mo" transform="translate(4097.8,0)"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g><g data-mml-node="msup" transform="translate(5098,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(6808.7,0)"><path data-c="2192" d="M56 237T56 250 70 270H835Q719 357 692 493 692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506 732 497 735 481 743 456Q765 389 816 336T935 261Q944 258 944 250 944 244 939 241T915 231 877 212Q836 186 806 152T761 85 740 35 732 4Q730-6 727-8T711-11Q691-11 691 0 691 7 696 25 728 151 835 230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(8086.5,0)"><path data-c="7B" d="M434-231Q434-244 428-250H410Q281-250 230-184 225-177 222-172T217-161 213-148 211-133 210-111 209-84 209-47 209 0Q209 21 209 53 208 142 204 153 203 154 203 155 189 191 153 211T82 231Q71 231 68 234T65 250 68 266 82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740 361 748 377 749 379 749 390 749T408 750H428Q434 744 434 732 434 719 431 716 429 713 415 713 362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250 184 245Q202 239 220 230T262 196 290 137Q291 131 291 1 291-134 296-147 306-174 339-192T415-213Q429-213 431-216 434-219 434-231Z"/></g><g data-mml-node="mn" transform="translate(8586.5,0)"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g><g data-mml-node="mo" transform="translate(9086.5,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mo" transform="translate(9531.1,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0 543 17 525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0 990 17 972 60Z"/></g><g data-mml-node="mo" transform="translate(10869.8,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(11314.5,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(12202.5,0)"><path data-c="7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357 306 312 345 291T417 269Q428 269 431 266T434 250 431 234 417 231Q380 231 345 210T298 157Q293 143 292 121T291-28V-79Q291-134 285-156T256-198Q202-250 89-250 71-250 68-247T65-230Q65-224 65-223T66-218 69-214 77-213Q91-213 108-210T146-200 183-177 207-139Q208-134 209 3L210 139Q223 196 280 230 315 247 330 250 305 257 280 270 225 304 212 352L210 362 209 498Q208 635 207 640 195 680 154 696T77 713Q68 713 67 716T65 731Z"/></g></g></g></svg></mjx-container></span>返回第一个参数相对于第二个参数中元素的排名。</p><p><strong>Cross-Domain Similarity Local Scaling (CSLS)</strong>：为双语词汇翻译任务引入，CSLS构建一个包含所有可能查询的初始查询库（对应于源词汇样本），然后使用查询库的不同子集来归一化每个库样本。令<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.666ex" xmlns="http://www.w3.org/2000/svg" width="7.994ex" height="2.58ex" role="img" focusable="false" viewbox="0 -846 3533.5 1140.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mo" transform="translate(334.8,16) translate(-250 0)"><path data-c="5E" d="M112 560 249 694 257 686Q387 562 387 560L361 531Q359 532 303 581L250 627 195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z"/></g></g></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(1155.1,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="msup" transform="translate(2099.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g></g></g></g></svg></mjx-container></span>表示探测向量<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.666ex" xmlns="http://www.w3.org/2000/svg" width="1.985ex" height="1.666ex" role="img" focusable="false" viewbox="0 -442 877.3 736.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g></g></g></svg></mjx-container></span>，限制在与库样本<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.666ex" xmlns="http://www.w3.org/2000/svg" width="1.926ex" height="1.666ex" role="img" focusable="false" viewbox="0 -442 851.3 736.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g></g></g></svg></mjx-container></span>最相似的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.011ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 889 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g></g></g></svg></mjx-container></span>个查询库样本上。类似地，令<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="7.994ex" height="2.564ex" role="img" focusable="false" viewbox="0 -846 3533.4 1133.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mo" transform="translate(290.1,16) translate(-250 0)"><path data-c="5E" d="M112 560 249 694 257 686Q387 562 387 560L361 531Q359 532 303 581L250 627 195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z"/></g></g></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(1155,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="msup" transform="translate(2099.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g></g></g></g></svg></mjx-container></span>表示未归一化相似度向量<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="1.985ex" height="1.65ex" role="img" focusable="false" viewbox="0 -442 877.3 729.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></g></svg></mjx-container></span>，限制在与查询<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>最相似的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.011ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 889 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g></g></g></svg></mjx-container></span>个库样本上。然后归一化相似度计算为：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-1.552ex" xmlns="http://www.w3.org/2000/svg" width="38.37ex" height="4.588ex" role="img" focusable="false" viewbox="0 -1342 16959.7 2028"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D702" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q156 442 175 435T205 417 221 395 229 376L231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336V326Q503 302 439 53 381-182 377-189 364-216 332-216 319-216 310-208T299-186Q299-177 358 57L420 307Q423 322 423 345 423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(530,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(905.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1294.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1706.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2373,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(3428.8,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="msub" transform="translate(3928.8,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(4806.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(5195.1,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(5607.1,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(6218.3,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mfrac" transform="translate(7218.5,0)"><g data-mml-node="mn" transform="translate(414.5,676)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-686)"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g><rect width="1089" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(8547.5,0)"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mi" transform="translate(533,413) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g></g><g data-mml-node="msub" transform="translate(9628.3,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mo" transform="translate(290.1,16) translate(-250 0)"><path data-c="5E" d="M112 560 249 694 257 686Q387 562 387 560L361 531Q359 532 303 581L250 627 195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z"/></g></g></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(10727.8,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mfrac" transform="translate(11728.1,0)"><g data-mml-node="mn" transform="translate(414.5,676)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-686)"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g><rect width="1089" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(13057.1,0)"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mi" transform="translate(533,413) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g></g><g data-mml-node="msub" transform="translate(14137.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mo" transform="translate(334.8,16) translate(-250 0)"><path data-c="5E" d="M112 560 249 694 257 686Q387 562 387 560L361 531Q359 532 303 581L250 627 195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z"/></g></g></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(15293,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(16237.7,0)"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g></g></g></svg></mjx-container></span></p><p><strong>Inverted Softmax (IS)</strong>：针对双语词汇翻译，这种方法从源词汇（对应于所有可能感兴趣的查询）中构建查询库。对于实际应用，作者建议均匀随机地子采样一个可行数量的查询。相似度归一化通过以下方式实现：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-2.312ex" xmlns="http://www.w3.org/2000/svg" width="25.962ex" height="5.699ex" role="img" focusable="false" viewbox="0 -1497.2 11475.1 2519.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D702" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q156 442 175 435T205 417 221 395 229 376L231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336V326Q503 302 439 53 381-182 377-189 364-216 332-216 319-216 310-208T299-186Q299-177 358 57L420 307Q423 322 423 345 423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(530,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(905.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1294.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1706.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2373,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(3428.8,0)"><g data-mml-node="mrow" transform="translate(220,747.2)"><g data-mml-node="mi"><path data-c="65" d="M28 218Q28 273 48 318T98 391 163 433 229 448Q282 448 320 430T378 380 406 316 415 245Q415 238 408 231H126V216Q126 68 226 36 246 30 270 30 312 30 342 62 359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121 415 117 412 108 393 53 349 21T250-11Q155-11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402 166 381 143 340 127 274V267H333V275Z"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(444,0)"/><path data-c="70" d="M36-148H50Q89-148 97-134V-126Q97-119 97-107T97-77 98-38 98 6 98 55 98 106Q98 140 98 177T98 243 98 296 97 335 97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441 176 442H179V416L180 390 188 397Q247 441 326 441 407 441 464 377T522 216Q522 115 457 52T310-11Q242-11 190 33L182 40V-45-101Q182-128 184-134T195-145Q216-148 244-148H260V-194H252L228-193Q205-192 178-192T140-191Q37-191 28-194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26 345 26 384 80T424 218Z" transform="translate(972,0)"/></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1917,0)"><path data-c="1D6FD" d="M29-194Q23-188 23-186 23-183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252 533 139 448 65T257-10Q227-10 203-2T165 17 143 40 131 59 126 65L62-188Q60-194 42-194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439 461 453 472 471 484 495 493 524 501 560Q503 569 503 593 503 611 502 616 487 667 426 667 384 667 347 643T286 582 247 514 224 455Q219 439 186 308T152 168Q151 163 151 147 151 99 173 68 204 26 260 26 302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372 380 358 347 358H337Q258 358 258 389 258 396 261 403 275 431 353 431Z"/></g><g data-mml-node="mo" transform="translate(2705.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="msub" transform="translate(3205.4,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(4082.7,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4471.7,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(4883.7,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(5272.7,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g><g data-mml-node="mrow" transform="translate(302.2,-727.7)"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mi" transform="translate(533,289) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g></g><g data-mml-node="mi" transform="translate(1247.5,0)"><path data-c="65" d="M28 218Q28 273 48 318T98 391 163 433 229 448Q282 448 320 430T378 380 406 316 415 245Q415 238 408 231H126V216Q126 68 226 36 246 30 270 30 312 30 342 62 359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121 415 117 412 108 393 53 349 21T250-11Q155-11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402 166 381 143 340 127 274V267H333V275Z"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(444,0)"/><path data-c="70" d="M36-148H50Q89-148 97-134V-126Q97-119 97-107T97-77 98-38 98 6 98 55 98 106Q98 140 98 177T98 243 98 296 97 335 97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441 176 442H179V416L180 390 188 397Q247 441 326 441 407 441 464 377T522 216Q522 115 457 52T310-11Q242-11 190 33L182 40V-45-101Q182-128 184-134T195-145Q216-148 244-148H260V-194H252L228-193Q205-192 178-192T140-191Q37-191 28-194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26 345 26 384 80T424 218Z" transform="translate(972,0)"/></g><g data-mml-node="mo" transform="translate(2775.5,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(2775.5,0)"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(3053.5,0)"><path data-c="1D6FD" d="M29-194Q23-188 23-186 23-183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252 533 139 448 65T257-10Q227-10 203-2T165 17 143 40 131 59 126 65L62-188Q60-194 42-194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439 461 453 472 471 484 495 493 524 501 560Q503 569 503 593 503 611 502 616 487 667 426 667 384 667 347 643T286 582 247 514 224 455Q219 439 186 308T152 168Q151 163 151 147 151 99 173 68 204 26 260 26 302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372 380 358 347 358H337Q258 358 258 389 258 396 261 403 275 431 353 431Z"/></g><g data-mml-node="mo" transform="translate(3841.7,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="msub" transform="translate(4341.9,0)"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(5219.2,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g><rect width="5861.7" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(9808.3,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(10753.1,0)"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677 461 673 481 667T516 654 544 639 566 623 584 607 597 592 607 578 614 565 618 554L621 548Q626 530 626 497 626 447 613 419 578 348 473 326L455 321Q462 310 473 292T517 226 578 141 637 72 686 35Q705 30 705 16 705 7 693-1H510Q503 6 404 159L306 310H268V183Q270 67 271 59 274 42 291 38 295 37 319 35 344 35 353 28 362 17 353 3L346-1H28Q16 5 16 16 16 35 55 35 96 38 101 52 106 60 106 341T101 632Q95 645 55 648 17 648 17 665ZM241 35Q238 42 237 45T235 78 233 163 233 337V621L237 635 244 648H133Q136 641 137 638T139 603 141 517 141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615 400 634 377 643Q374 643 339 648 300 648 281 635 271 628 270 610T268 481V346H284Q327 346 375 352 421 364 439 392T457 496ZM492 537T492 496 488 427 478 389 469 371 464 361Q464 360 465 360 469 360 497 370 593 400 593 495 593 592 477 630L457 637 461 626Q474 611 488 561 492 537 492 496ZM464 243Q411 317 410 317 404 317 401 315 384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z"/></g></g></g></g></svg></mjx-container></span></p><p>其中<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="5.344ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2362 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="65" d="M28 218Q28 273 48 318T98 391 163 433 229 448Q282 448 320 430T378 380 406 316 415 245Q415 238 408 231H126V216Q126 68 226 36 246 30 270 30 312 30 342 62 359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121 415 117 412 108 393 53 349 21T250-11Q155-11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402 166 381 143 340 127 274V267H333V275Z"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(444,0)"/><path data-c="70" d="M36-148H50Q89-148 97-134V-126Q97-119 97-107T97-77 98-38 98 6 98 55 98 106Q98 140 98 177T98 243 98 296 97 335 97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441 176 442H179V416L180 390 188 397Q247 441 326 441 407 441 464 377T522 216Q522 115 457 52T310-11Q242-11 190 33L182 40V-45-101Q182-128 184-134T195-145Q216-148 244-148H260V-194H252L228-193Q205-192 178-192T140-191Q37-191 28-194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26 345 26 384 80T424 218Z" transform="translate(972,0)"/></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mo" transform="translate(1806,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="mo" transform="translate(2084,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span>表示逐元素指数，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.281ex" height="2.034ex" role="img" focusable="false" viewbox="0 -705 566 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FD" d="M29-194Q23-188 23-186 23-183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252 533 139 448 65T257-10Q227-10 203-2T165 17 143 40 131 59 126 65L62-188Q60-194 42-194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439 461 453 472 471 484 495 493 524 501 560Q503 569 503 593 503 611 502 616 487 667 426 667 384 667 347 643T286 582 247 514 224 455Q219 439 186 308T152 168Q151 163 151 147 151 99 173 68 204 26 260 26 302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372 380 358 347 358H337Q258 358 258 389 258 396 261 403 275 431 353 431Z"/></g></g></g></svg></mjx-container></span>是称为“反温度”的超参数。</p><p><strong>Dynamic Inverted Softmax (DIS)</strong>：在上述方法的实验中，我们观察到一个重要的实际问题：如果查询库不能有效覆盖包含库的空间，性能会严重下降。为了应对这一问题，除了上一节算法流程图中描述的查询库探测矩阵外，我们还预先计算一个库激活集：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.618ex" xmlns="http://www.w3.org/2000/svg" width="44.307ex" height="2.663ex" role="img" focusable="false" viewbox="0 -903.7 19583.6 1177"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="41" d="M576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252 696 122 720 57 722 53 723 50T728 46 732 43 737 41 743 39L754 45Q788 61 803 61 819 61 819 47 818 43 814 35 799 15 755-7T675-30Q659-30 648-25T630-8 621 11 614 34Q603 77 599 106T594 146 591 160V163H460L329 164 316 145Q241 35 196-7T119-50 59-24 30 43Q30 75 46 100T74 125Q81 125 83 120T88 104 96 84Q118 57 151 57 189 57 277 182 432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473 574 520V581L563 560Q497 426 412 290L372 228 370 224H371L383 228 393 232H586L584 249Z"/></g></g><g data-mml-node="mo" transform="translate(1096.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mo" transform="translate(2152.6,0)"><path data-c="7B" d="M434-231Q434-244 428-250H410Q281-250 230-184 225-177 222-172T217-161 213-148 211-133 210-111 209-84 209-47 209 0Q209 21 209 53 208 142 204 153 203 154 203 155 189 191 153 211T82 231Q71 231 68 234T65 250 68 266 82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740 361 748 377 749 379 749 390 749T408 750H428Q434 744 434 732 434 719 431 716 429 713 415 713 362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250 184 245Q202 239 220 230T262 196 290 137Q291 131 291 1 291-134 296-147 306-174 339-192T415-213Q429-213 431-216 434-219 434-231Z"/></g><g data-mml-node="mi" transform="translate(2652.6,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(3342.3,0)"><path data-c="3A" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310 96 327 78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z"/></g><g data-mml-node="mi" transform="translate(3898.1,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(4587.9,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="msubsup" transform="translate(5532.7,0)"><g data-mml-node="mtext"><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z"/><path data-c="72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122 98 161 98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441 171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400 273 405Q271 407 250 401 234 393 226 386 179 341 179 207V154Q179 141 179 127T179 101 180 81 180 66V61Q181 59 183 57T188 54 193 51 200 49 207 48 216 47 225 47 235 46 245 46H276V0H267Q249 3 140 3 37 3 28 0H20V46H36Z" transform="translate(500,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(892,0)"/><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 351 442 364 440T387 434 406 426 421 417 432 406 441 395 448 384 452 374 455 366L457 361 460 365Q463 369 466 373T475 384 488 397 503 410 523 422 546 432 572 439 603 442Q729 442 740 329 741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62 657 64 657 200 656 335 655 343 649 371 635 385T611 402 585 404Q540 404 506 370 479 343 472 315T464 232V168 108Q464 78 465 68T468 55 477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1392,0)"/><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z" transform="translate(2225,0)"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(2725,0)"/></g><g data-mml-node="mi" transform="translate(3286,413) scale(0.707)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mi" transform="translate(3286,-265.5) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g></g><g data-mml-node="mi" transform="translate(9237.1,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mo" transform="translate(9706.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msub" transform="translate(10095.1,0)"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mi" transform="translate(462,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g></g><g data-mml-node="mo" transform="translate(10851,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="msub" transform="translate(11295.7,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g></g><g data-mml-node="mo" transform="translate(12066.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(12455.4,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(12900.1,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(13522.9,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="mo" transform="translate(14467.6,0)"><path data-c="7B" d="M434-231Q434-244 428-250H410Q281-250 230-184 225-177 222-172T217-161 213-148 211-133 210-111 209-84 209-47 209 0Q209 21 209 53 208 142 204 153 203 154 203 155 189 191 153 211T82 231Q71 231 68 234T65 250 68 266 82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740 361 748 377 749 379 749 390 749T408 750H428Q434 744 434 732 434 719 431 716 429 713 415 713 362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250 184 245Q202 239 220 230T262 196 290 137Q291 131 291 1 291-134 296-147 306-174 339-192T415-213Q429-213 431-216 434-219 434-231Z"/></g><g data-mml-node="mn" transform="translate(14967.6,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(15467.6,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mo" transform="translate(15912.3,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0 543 17 525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0 990 17 972 60Z"/></g><g data-mml-node="mo" transform="translate(17251,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(17695.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(18583.6,0)"><path data-c="7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357 306 312 345 291T417 269Q428 269 431 266T434 250 431 234 417 231Q380 231 345 210T298 157Q293 143 292 121T291-28V-79Q291-134 285-156T256-198Q202-250 89-250 71-250 68-247T65-230Q65-224 65-223T66-218 69-214 77-213Q91-213 108-210T146-200 183-177 207-139Q208-134 209 3L210 139Q223 196 280 230 315 247 330 250 305 257 280 270 225 304 212 352L210 362 209 498Q208 635 207 640 195 680 154 696T77 713Q68 713 67 716T65 731Z"/></g><g data-mml-node="mo" transform="translate(19083.6,0)"><path data-c="7D" d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357 306 312 345 291T417 269Q428 269 431 266T434 250 431 234 417 231Q380 231 345 210T298 157Q293 143 292 121T291-28V-79Q291-134 285-156T256-198Q202-250 89-250 71-250 68-247T65-230Q65-224 65-223T66-218 69-214 77-213Q91-213 108-210T146-200 183-177 207-139Q208-134 209 3L210 139Q223 196 280 230 315 247 330 250 305 257 280 270 225 304 212 352L210 362 209 498Q208 635 207 640 195 680 154 696T77 713Q68 713 67 716T65 731Z"/></g></g></g></svg></mjx-container></span></p><p>这里，符号<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.731ex" xmlns="http://www.w3.org/2000/svg" width="12.06ex" height="2.663ex" role="img" focusable="false" viewbox="0 -853.7 5330.4 1177"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msubsup"><g data-mml-node="mtext"><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z"/><path data-c="72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122 98 161 98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441 171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400 273 405Q271 407 250 401 234 393 226 386 179 341 179 207V154Q179 141 179 127T179 101 180 81 180 66V61Q181 59 183 57T188 54 193 51 200 49 207 48 216 47 225 47 235 46 245 46H276V0H267Q249 3 140 3 37 3 28 0H20V46H36Z" transform="translate(500,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(892,0)"/><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 351 442 364 440T387 434 406 426 421 417 432 406 441 395 448 384 452 374 455 366L457 361 460 365Q463 369 466 373T475 384 488 397 503 410 523 422 546 432 572 439 603 442Q729 442 740 329 741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62 657 64 657 200 656 335 655 343 649 371 635 385T611 402 585 404Q540 404 506 370 479 343 472 315T464 232V168 108Q464 78 465 68T468 55 477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1392,0)"/><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z" transform="translate(2225,0)"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(2725,0)"/></g><g data-mml-node="mi" transform="translate(3286,363) scale(0.707)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mi" transform="translate(3286,-315.5) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g></g><g data-mml-node="mi" transform="translate(3704.4,0)"><path data-c="1D453" d="M118-162Q120-162 124-164T135-167 147-168Q160-168 171-155T187-126Q197-99 221 27T267 267 289 382V385H242Q195 385 192 387 188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432 298 434 307 482T319 540Q356 705 465 705 502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603 443 622 454 636T478 657L487 662Q471 668 457 668 445 668 434 658T419 630Q412 601 403 552T387 469 380 433Q380 431 435 431 480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282-47 255-132 212-173 175-205 139-205 107-205 81-186T55-132Q55-95 76-78T118-61Q162-61 162-103 162-122 151-136T127-157L118-162Z"/></g><g data-mml-node="mo" transform="translate(4254.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4643.4,0)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mo" transform="translate(4941.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>表示<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>-最大选择操作符，返回使<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="3.679ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1626 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118-162Q120-162 124-164T135-167 147-168Q160-168 171-155T187-126Q197-99 221 27T267 267 289 382V385H242Q195 385 192 387 188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432 298 434 307 482T319 540Q356 705 465 705 502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603 443 622 454 636T478 657L487 662Q471 668 457 668 445 668 434 658T419 630Q412 601 403 552T387 469 380 433Q380 431 435 431 480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282-47 255-132 212-173 175-205 139-205 107-205 81-186T55-132Q55-95 76-78T118-61Q162-61 162-103 162-122 151-136T127-157L118-162Z"/></g><g data-mml-node="mo" transform="translate(550,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(939,0)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mo" transform="translate(1237,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>最大化的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>个值（如<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.462ex" xmlns="http://www.w3.org/2000/svg" width="0.932ex" height="1.957ex" role="img" focusable="false" viewbox="0 -661 412 865"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g></g></svg></mjx-container></span>，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="0.674ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 298 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g></g></g></svg></mjx-container></span>也遍历库索引，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>设为超参数）。直观上，这个集合包含我们的查询库探测识别为潜在枢纽的库向量的索引。我们通过仅对落在此集合内的最近邻检索激活Inverted Softmax来创建Dynamic Inverted Softmax：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-2.827ex" xmlns="http://www.w3.org/2000/svg" width="40.135ex" height="6.785ex" role="img" focusable="false" viewbox="0 -1749.5 17739.5 2999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D702" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q156 442 175 435T205 417 221 395 229 376L231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336V326Q503 302 439 53 381-182 377-189 364-216 332-216 319-216 310-208T299-186Q299-177 358 57L420 307Q423 322 423 345 423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(530,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(905.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1294.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1706.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2373,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mrow" transform="translate(3428.8,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="7B" d="M661-1243 655-1249H622L604-1240Q503-1190 434-1107T348-909Q346-897 346-499L345-98 343-82Q335 3 287 87T157 223Q146 232 145 236 144 240 144 250 144 265 145 268T157 278Q242 333 288 417T343 583L345 600 346 1001Q346 1398 348 1410 379 1622 600 1739L622 1750H655L661 1744V1727 1721Q661 1712 661 1710T657 1705 648 1700 630 1690 602 1668Q589 1659 574 1643T531 1593 484 1508 459 1398Q458 1389 458 1001 458 614 457 605 441 435 301 316 254 277 202 251L250 222Q260 216 301 185 443 66 457-104 458-113 458-501 458-888 459-897 463-944 478-988T509-1060 548-1114 580-1149 602-1167Q620-1183 634-1192T653-1202 659-1207 661-1220V-1226-1243Z"/></g><g data-mml-node="mtable" transform="translate(806,0)"><g data-mml-node="mtr" transform="translate(0,627.4)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220,543.1) scale(0.707)"><g data-mml-node="mi"><path data-c="65" d="M28 218Q28 273 48 318T98 391 163 433 229 448Q282 448 320 430T378 380 406 316 415 245Q415 238 408 231H126V216Q126 68 226 36 246 30 270 30 312 30 342 62 359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121 415 117 412 108 393 53 349 21T250-11Q155-11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402 166 381 143 340 127 274V267H333V275Z"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(444,0)"/><path data-c="70" d="M36-148H50Q89-148 97-134V-126Q97-119 97-107T97-77 98-38 98 6 98 55 98 106Q98 140 98 177T98 243 98 296 97 335 97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441 176 442H179V416L180 390 188 397Q247 441 326 441 407 441 464 377T522 216Q522 115 457 52T310-11Q242-11 190 33L182 40V-45-101Q182-128 184-134T195-145Q216-148 244-148H260V-194H252L228-193Q205-192 178-192T140-191Q37-191 28-194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26 345 26 384 80T424 218Z" transform="translate(972,0)"/></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1917,0)"><path data-c="1D6FD" d="M29-194Q23-188 23-186 23-183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252 533 139 448 65T257-10Q227-10 203-2T165 17 143 40 131 59 126 65L62-188Q60-194 42-194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439 461 453 472 471 484 495 493 524 501 560Q503 569 503 593 503 611 502 616 487 667 426 667 384 667 347 643T286 582 247 514 224 455Q219 439 186 308T152 168Q151 163 151 147 151 99 173 68 204 26 260 26 302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372 380 358 347 358H337Q258 358 258 389 258 396 261 403 275 431 353 431Z"/></g><g data-mml-node="mo" transform="translate(2483,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="msub" transform="translate(2761,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(3638.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4027.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(4439.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(4828.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g><g data-mml-node="mrow" transform="translate(278.1,-382.9) scale(0.707)"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mi" transform="translate(533,289) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g></g><g data-mml-node="mi" transform="translate(1247.5,0)"><path data-c="65" d="M28 218Q28 273 48 318T98 391 163 433 229 448Q282 448 320 430T378 380 406 316 415 245Q415 238 408 231H126V216Q126 68 226 36 246 30 270 30 312 30 342 62 359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121 415 117 412 108 393 53 349 21T250-11Q155-11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402 166 381 143 340 127 274V267H333V275Z"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(444,0)"/><path data-c="70" d="M36-148H50Q89-148 97-134V-126Q97-119 97-107T97-77 98-38 98 6 98 55 98 106Q98 140 98 177T98 243 98 296 97 335 97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441 176 442H179V416L180 390 188 397Q247 441 326 441 407 441 464 377T522 216Q522 115 457 52T310-11Q242-11 190 33L182 40V-45-101Q182-128 184-134T195-145Q216-148 244-148H260V-194H252L228-193Q205-192 178-192T140-191Q37-191 28-194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26 345 26 384 80T424 218Z" transform="translate(972,0)"/></g><g data-mml-node="mo" transform="translate(2775.5,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(2775.5,0)"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(3053.5,0)"><path data-c="1D6FD" d="M29-194Q23-188 23-186 23-183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252 533 139 448 65T257-10Q227-10 203-2T165 17 143 40 131 59 126 65L62-188Q60-194 42-194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439 461 453 472 471 484 495 493 524 501 560Q503 569 503 593 503 611 502 616 487 667 426 667 384 667 347 643T286 582 247 514 224 455Q219 439 186 308T152 168Q151 163 151 147 151 99 173 68 204 26 260 26 302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372 380 358 347 358H337Q258 358 258 389 258 396 261 403 275 431 353 431Z"/></g><g data-mml-node="mo" transform="translate(3619.5,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250Z"/></g><g data-mml-node="msub" transform="translate(3897.5,0)"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g><g data-mml-node="mi" transform="translate(536,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g><g data-mml-node="mo" transform="translate(4774.8,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g><rect width="3889.2" height="60" x="120" y="220"/></g></g><g data-mml-node="mtd" transform="translate(5129.2,0)"><g data-mml-node="mtext"><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3 132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49 100 53 102 60T104 102V205 293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441 182 442H185V62Q190 52 197 50T232 46H255V0H247Z"/><path data-c="66" d="M273 0Q255 3 146 3 43 3 34 0H26V46H42Q70 46 91 49 99 52 103 60 104 62 104 224V385H33V431H104V497L105 564 107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576 284 590 270 627Q270 647 288 667H284Q280 668 273 668 245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57 194 54 199 51 206 49 213 48 222 47 231 47 241 46 251 46H282V0H273Z" transform="translate(278,0)"/><path data-c="A0" d="" transform="translate(584,0)"/></g><g data-mml-node="msub" transform="translate(834,0)"><g data-mml-node="mtext"><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z"/><path data-c="72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122 98 161 98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441 171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400 273 405Q271 407 250 401 234 393 226 386 179 341 179 207V154Q179 141 179 127T179 101 180 81 180 66V61Q181 59 183 57T188 54 193 51 200 49 207 48 216 47 225 47 235 46 245 46H276V0H267Q249 3 140 3 37 3 28 0H20V46H36Z" transform="translate(500,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(892,0)"/><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 351 442 364 440T387 434 406 426 421 417 432 406 441 395 448 384 452 374 455 366L457 361 460 365Q463 369 466 373T475 384 488 397 503 410 523 422 546 432 572 439 603 442Q729 442 740 329 741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62 657 64 657 200 656 335 655 343 649 371 635 385T611 402 585 404Q540 404 506 370 479 343 472 315T464 232V168 108Q464 78 465 68T468 55 477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1392,0)"/><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z" transform="translate(2225,0)"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(2725,0)"/></g><g data-mml-node="mi" transform="translate(3286,-241.4) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g></g><g data-mml-node="msub" transform="translate(4380.7,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(5258,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(5647,0)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mo" transform="translate(5945,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(6611.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(7556.5,0)"><g data-mml-node="mi"><path data-c="41" d="M576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252 696 122 720 57 722 53 723 50T728 46 732 43 737 41 743 39L754 45Q788 61 803 61 819 61 819 47 818 43 814 35 799 15 755-7T675-30Q659-30 648-25T630-8 621 11 614 34Q603 77 599 106T594 146 591 160V163H460L329 164 316 145Q241 35 196-7T119-50 59-24 30 43Q30 75 46 100T74 125Q81 125 83 120T88 104 96 84Q118 57 151 57 189 57 277 182 432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473 574 520V581L563 560Q497 426 412 290L372 228 370 224H371L383 228 393 232H586L584 249Z"/></g></g></g></g><g data-mml-node="mtr" transform="translate(0,-913.6)"><g data-mml-node="mtd"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(877.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1266.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1678.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g><g data-mml-node="mtd" transform="translate(5129.2,0)"><g data-mml-node="mtext"><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z"/><path data-c="74" d="M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29 282 29 292 100 293 108 293 146V181H333V146 134Q333 57 291 17 264-10 221-10 187-10 162 2T124 33 105 68 98 100Q97 107 97 248V385H18V422H27Z" transform="translate(500,0)"/><path data-c="68" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124 102 167 103 217 103 272 103 329Q103 366 103 407T103 482 102 542 102 586 102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693 181 694H184V367Q244 442 328 442 451 442 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(889,0)"/><path data-c="65" d="M28 218Q28 273 48 318T98 391 163 433 229 448Q282 448 320 430T378 380 406 316 415 245Q415 238 408 231H126V216Q126 68 226 36 246 30 270 30 312 30 342 62 359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121 415 117 412 108 393 53 349 21T250-11Q155-11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402 166 381 143 340 127 274V267H333V275Z" transform="translate(1445,0)"/><path data-c="72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122 98 161 98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441 171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400 273 405Q271 407 250 401 234 393 226 386 179 341 179 207V154Q179 141 179 127T179 101 180 81 180 66V61Q181 59 183 57T188 54 193 51 200 49 207 48 216 47 225 47 235 46 245 46H276V0H267Q249 3 140 3 37 3 28 0H20V46H36Z" transform="translate(1889,0)"/><path data-c="77" d="M90 368Q84 378 76 380T40 385H18V431H24L43 430Q62 430 84 429T116 428Q206 428 221 431H229V385H215Q177 383 177 368 177 367 221 239L265 113 339 328 333 345Q323 374 316 379 308 384 278 385H258V431H264Q270 428 348 428 439 428 454 431H461V385H452Q404 385 404 369 404 366 418 324T449 234 481 143L496 100 537 219Q579 341 579 347 579 363 564 373T530 385H522V431H529Q541 428 624 428 692 428 698 431H703V385H697Q696 385 691 385T682 384Q635 377 619 334L559 161Q546 124 528 71 508 12 503 1T487-11H479Q460-11 456-4 455-3 407 133L361 267Q359 263 266-4 261-11 243-11H238Q225-11 220-3L90 368Z" transform="translate(2281,0)"/><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3 132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49 100 53 102 60T104 102V205 293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441 182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(3003,0)"/><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401 98 382 98 349 97 344 98 336T114 312 157 287Q175 282 201 278T245 269 277 256Q294 248 310 236T342 195 359 133Q359 71 321 31T198-10H190Q138-10 94 26L86 19 77 10Q71 4 65-1L54-11H46 42Q39-11 33-5V74 132Q33 153 35 157T45 162H54Q66 162 70 158T75 146 82 119 101 77Q136 26 198 26 295 26 295 104 295 133 277 151 257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424 143 442 187 447H198Q238 447 268 432L283 424 292 431Q302 440 314 448H322 326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" transform="translate(3281,0)"/><path data-c="65" d="M28 218Q28 273 48 318T98 391 163 433 229 448Q282 448 320 430T378 380 406 316 415 245Q415 238 408 231H126V216Q126 68 226 36 246 30 270 30 312 30 342 62 359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121 415 117 412 108 393 53 349 21T250-11Q155-11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402 166 381 143 340 127 274V267H333V275Z" transform="translate(3675,0)"/></g></g></g></g><g data-mml-node="mo" transform="translate(14310.7,0) translate(0 250)"/></g></g></g></svg></mjx-container></span></p><p>由于<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.65ex" xmlns="http://www.w3.org/2000/svg" width="4.677ex" height="2.347ex" role="img" focusable="false" viewbox="0 -750 2067.3 1037.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(877.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1266.3,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1678.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>作为中间步骤进行计算，Dynamic Inverted Softmax相较于标准Inverted Softmax所产生的唯一额外成本源自方程中的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="7.36ex" height="1.491ex" role="img" focusable="false" viewbox="0 -453 3253 659"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtext"><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z"/><path data-c="72" d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122 98 161 98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441 171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400 273 405Q271 407 250 401 234 393 226 386 179 341 179 207V154Q179 141 179 127T179 101 180 81 180 66V61Q181 59 183 57T188 54 193 51 200 49 207 48 216 47 225 47 235 46 245 46H276V0H267Q249 3 140 3 37 3 28 0H20V46H36Z" transform="translate(500,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(892,0)"/><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 351 442 364 440T387 434 406 426 421 417 432 406 441 395 448 384 452 374 455 366L457 361 460 365Q463 369 466 373T475 384 488 397 503 410 523 422 546 432 572 439 603 442Q729 442 740 329 741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62 657 64 657 200 656 335 655 343 649 371 635 385T611 402 585 404Q540 404 506 370 479 343 472 315T464 232V168 108Q464 78 465 68T468 55 477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1392,0)"/><path data-c="61" d="M137 305T115 305 78 320 63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59 481 29 455 12T400-6 353 12 329 54V58L327 55Q325 52 322 49T314 40 302 29 287 17 269 6 247-2 221-8 190-11Q130-11 82 20T34 107Q34 128 41 147T68 188 116 225 194 253 304 268H318V290Q318 324 312 340 290 411 215 411 197 411 181 410T156 406 148 403Q170 388 170 359 170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175 318 233 317 233 309 233 296 232T251 223 193 203 147 166 126 106Z" transform="translate(2225,0)"/><path data-c="78" d="M201 0Q189 3 102 3 26 3 17 0H11V46H25Q48 47 67 52T96 61 121 78 139 96 160 122 180 150L226 210 168 288Q159 301 149 315T133 336 122 351 113 363 107 370 100 376 94 379 88 381 80 383Q74 383 44 385H16V431H23Q59 429 126 429 219 429 229 431H237V385Q201 381 201 369 201 367 211 353T239 315 268 274L272 270 297 304Q329 345 329 358 329 364 327 369T322 376 317 380 310 384L307 385H302V431H309Q324 428 408 428 487 428 493 431H499V385H492Q443 385 411 368 394 360 377 341T312 257L296 236 358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510 502Q494 1 482 1T457 2 432 2 414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74 181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(2725,0)"/></g></g></g></svg></mjx-container></span>操作。幸运的是，这一计算可以非常高效地执行，即使在数十亿库样本的规模下也几乎没有精度损失。</p><h1><span id="experiments">Experiments</span><a href="#experiments" class="header-anchor"></a></h1><h3><span id="datasets-and-evaluation-metrics">Datasets and Evaluation Metrics</span><a href="#datasets-and-evaluation-metrics" class="header-anchor"></a></h3><p>在多个标准基准数据集上进行了实验，包括：</p><ul><li><strong>文本-视频检索</strong>：MSR-VTT、MSVD、DiDeMo、LSMDC、VaTeX、QuerYD</li><li><strong>文本-图像检索</strong>：MSCoCo</li><li><strong>文本-音频检索</strong>：AudioCaps</li><li><strong>图像-图像检索</strong>：CUB-200-2011、Stanford Online Products</li></ul><p>评估指标主要包括：</p><ul><li><strong><a href="mailto:R@K" class="email">R@K</a>（Recall at K）</strong>：查询的正确结果在前K个检索结果中的比例，越高越好。</li><li><strong>MdR（Median rank）</strong>：正确结果在检索列表中的中位数排名，越低越好。</li></ul><h3><span id="querybank-normalisation">Querybank Normalisation</span><a href="#querybank-normalisation" class="header-anchor"></a></h3><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011727385.png" alt="image-20241001172747283" style="zoom:50%"></p><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011727998.png" alt="image-20241001172712877" style="zoom:50%"></p><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011728888.png" alt="image-20241001172834766" style="zoom:50%"></p><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011729921.png" alt="image-20241001172935782" style="zoom:50%"></p><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011730475.png" alt="image-20241001173004336" style="zoom:50%"></p><h3><span id="comparison-with-other-methods">Comparison with other methods</span><a href="#comparison-with-other-methods" class="header-anchor"></a></h3><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011731094.png" alt="image-20241001173101974" style="zoom:67%"></p><p><img src="https://testingcf.jsdelivr.net/gh/nanzhi84/blog-images/202410011731061.png" alt="image-20241001173126961" style="zoom:67%"></p><h1><span id="limitations-and-societal-impact">Limitations and societal impact</span><a href="#limitations-and-societal-impact" class="header-anchor"></a></h1><p><strong>Limitations</strong></p><p>使用QB-NORM的所有归一化技术都会产生额外的预计算成本。我们提出的归一化技术DIS，相较于其他归一化方法增加了一些额外的计算成本。而且不利的查询库选择和显著的领域差距会降低查询库归一化的效益。</p><p><strong>Societal impact</strong></p><p>跨模态检索是一种强大的工具，既有积极的应用，也有潜在的风险。跨模态搜索可以为研究人员、音乐家、艺术家和消费者提供高效的内容发现。然而，这一能力也可能被用作政治压迫的工具：例如，它可能使社交媒体内容的高效搜索成为可能，以发现政治异议的迹象。</p><h1><span id="conclusions">Conclusions</span><a href="#conclusions" class="header-anchor"></a></h1><ul><li>引入了用于Hubness Mitigation的查询库归一化框架。</li><li>提出了Dynamic Inverted Softmax (DIS)用于稳健的相似度归一化。</li><li>展示了其在多种任务、模型和基准中广泛的适用性。</li></ul></div><div id="comment"><div id="waline-container"></div></div></div><footer id="footer"><div id="footer-wrap"><div>&copy; 2024 - 2024 Orion Blog<span id="footer-icon"><i class="fa-solid fa-font-awesome fa-fw"></i></span> &commat;Orion</div><div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a></div></div></footer></div><transition name="fade"><div id="preview" ref="preview" v-show="previewShow"><img id="preview-content" ref="previewContent"></div></transition></div><script src="/js/main.js"></script><script>Waline.init({el:"#waline-container",serverURL:"https://www.orionverse-comment.blog/",commentCount:!0,pageview:!0,emoji:"https://unpkg.com/@waline/emojis@1.0.1/weibo,https://unpkg.com/@waline/emojis@1.0.1/alus,https://unpkg.com/@waline/emojis@1.0.1/bilibili,https://unpkg.com/@waline/emojis@1.0.1/qq,https://unpkg.com/@waline/emojis@1.0.1/tieba,https://unpkg.com/@waline/emojis@1.0.1/tw-emoji".split(","),meta:"nick,mail,link".split(","),requiredMeta:"nick".split(","),lang:"zh-CN",wordLimit:0,pageSize:"10",login:"enable"})</script></body></html>